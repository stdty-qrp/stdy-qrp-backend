(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,a){e.exports=a(344)},224:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),o=a.n(c),l=a(24),u=(a(202),a(63)),s=a(117),i=a(15),m=a.n(i),p=a(17),d=a(46),f=a.n(d),v=a(107);a.n(v)()().format();var E=function(){var e=Object(p.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api","/reservations"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api","/rooms"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api","/rooms/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b={getAll:E,createNew:function(){var e=Object(p.a)(m.a.mark(function e(t,a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t.name,username:t.username,channelId:t.channelId},e.next=3,f.a.post("".concat("/api","/rooms/").concat(a,"/reservation"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),remove:function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat("/api","/reservations/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getRooms:h,getRoom:g,getChannels:function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api","/channels/"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(s.a)(e),[t.data]);case"INACTIVATE":var a=t.data.id,n=e.find(function(e){return e.id===a}),r=Object(u.a)({},n,{active:!1});return e.map(function(e){return e.id===a?r:e});case"INIT_GROUPS":return t.data;case"REMOVE":return Object(s.a)(e).filter(function(e){return e.id!==t.data.id});default:return e}},y=function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getRoom(e);case 2:n=t.sent,a({type:"CHANGE",data:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},x={selectedRoom:null,rooms:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":return Object(u.a)({},e,{rooms:t.data});case"CHANGE":return Object(u.a)({},e,{selectedRoom:t.data});default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CHANNELS":return t.data;default:return e}},w=(a(224),a(355)),j=a(364),I=a(362),A=a(354),C=a(363),G=a(360),N=a(356),S=a(64),H=a(353),T=a(359),F=function(){return[{text:"Osa 0, Web-sovellusten toiminnan perusteet",key:0,value:"Osa 0, Web-sovellusten toiminnan perusteet"},{text:"Osa 1, Reactin perusteet",key:1,value:"Osa 1, Reactin perusteet"},{text:"Osa 2, Palvelimen kanssa tapahtuva kommunikointi",key:2,value:"Osa 2, Palvelimen kanssa tapahtuva kommunikointi"},{text:"Osa 3, Palvelimen ohjelmointi NodeJS:n Express-kirjastolla",key:3,value:"Osa 3, Palvelimen ohjelmointi NodeJS:n Express-kirjastolla"},{text:"Osa 4, Express-sovellusten testaaminen, k\xe4ytt\xe4j\xe4nhallinta",key:4,value:"Osa 4, Express-sovellusten testaaminen, k\xe4ytt\xe4j\xe4nhallinta"},{text:"Osa 5, React-sovelluksen testaaminen, custom hookit",key:5,value:"Osa 5, React-sovelluksen testaaminen, custom hookit"},{text:"Osa 6, Sovelluksen tilan hallinta Redux-kirjastolla",key:6,value:"Osa 6, Sovelluksen tilan hallinta Redux-kirjastolla"},{text:"Osa 7, React router, tyylikirjastot ja webpack",key:7,value:"Osa 7, React router, tyylikirjastot ja webpack"},{text:"Osa 8, GraphQL",key:8,value:"Osa 8, GraphQL"}]},D={changeGroup:function(e,t){return console.log(e),function(){var a=Object(p.a)(m.a.mark(function a(n){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.createNew(e,t);case 2:r=a.sent,n({type:"ADD",data:r});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},P=Object(l.b)(function(e){return{selectedRoom:e.resources.selectedRoom,channels:e.channels.map(function(e){return console.log(e),{key:e.channelId,text:e.name.toUpperCase()+" - ".concat(e.description),value:e.channelId}})}},D)(Object(j.a)(function(e){var t,a,n=function(){var n=Object(p.a)(m.a.mark(function n(r){var c,o;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),"123"!==e.selectedRoom.code||a){n.next=4;break}return alert("Select group name, plz"),n.abrupt("return");case 4:if(t){n.next=7;break}return alert("Select channel, plz"),n.abrupt("return");case 7:return c="123"===e.selectedRoom.code?a:r.target.description.value,o={name:c,username:r.target.username.value,channelId:t},n.next=11,e.changeGroup(o,e.selectedRoom.id);case 11:e.history.push("addgroup/done");case 12:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{as:"h2",textAlign:"center"},"Add A Group"),r.a.createElement(G.a,null,r.a.createElement(N.a,{onSubmit:n},console.log(e.selectedRoom),e.selectedRoom&&"123"===e.selectedRoom.code?r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Group Name"),r.a.createElement(S.a,{name:"groupname",placeholder:"Select group name",options:F(),selection:!0,onChange:function(e,t){var n=t.value;a=n}})):r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Description"),r.a.createElement(H.a,{name:"description",placeholder:"Description of the subject"})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{name:"username",placeholder:"Username"})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Telegram Group"),r.a.createElement(S.a,{name:"telegram",placeholder:"Select telegram group",options:e.channels,selection:!0,onChange:function(e,a){var n=a.value;t=n}})),r.a.createElement(A.a,{to:"/"},r.a.createElement(T.a,null,"Cancel")),r.a.createElement(T.a,{disabled:null===e.selectedRoom,type:"submit",positive:!0},"Add"))))})),_=Object(j.a)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Group created!"),r.a.createElement("p",null,"We've informed your friends at\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://t.me/stdy_qrp"},"t.me/stdy_qrp")),r.a.createElement(A.a,{to:"/"},r.a.createElement(T.a,{primary:!0},"Done")))}),L=Object(j.a)(function(e){return r.a.createElement(I.a,{centered:!0,verticalAlign:"middle"},r.a.createElement(I.a.Column,null,r.a.createElement(w.a,{exact:!0,path:e.match.path,component:P}),r.a.createElement(w.a,{path:"".concat(e.match.path,"/done"),component:_})))}),B=a(357),M=a(57),Q=a.n(M),U=function(e){var t=e.group;return r.a.createElement(B.a.Item,null,r.a.createElement(B.a.Content,null,r.a.createElement(A.a,{to:"details/".concat(t.id)},r.a.createElement(B.a.Header,null,t.name)),r.a.createElement(B.a.Description,null,t.room&&r.a.createElement(r.a.Fragment,null,t.room.name,r.a.createElement("br",null)),r.a.createElement(Q.a,{format:"HH:mm"},t.startTime),"-",r.a.createElement(Q.a,{format:"HH:mm"},t.endTime))))},J=Object(l.b)(function(e){return{activeGroups:e.groups,selectedRoom:e.resources.selectedRoom}},{getRoom:y})(function(e){return r.a.createElement(G.a,{placeholder:!0,textAlign:"center"},r.a.createElement(C.a,{as:"h2",textAlign:"center"},"Active Groups"),e.activeGroups.length<1?r.a.createElement("p",null,"No active groups. Maybe create a group? "):r.a.createElement(B.a,{divided:!0,relaxed:!0,animated:!0},e.activeGroups.map(function(e){return r.a.createElement(U,{key:e.id,group:e})})),r.a.createElement(A.a,{to:"/addgroup",className:null===e.selectedRoom?"disabled-link":void 0},r.a.createElement(T.a,{disabled:null===e.selectedRoom,primary:!0},"Add new group")))}),W=a(39),q=function(){return r.a.createElement(C.a,{as:"h1",icon:!0,textAlign:"center"},r.a.createElement(W.a,{name:"handshake"}),r.a.createElement(C.a.Content,null,"QRP",r.a.createElement(C.a.Subheader,null,"Study Together")))},V={removeGroup:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.remove(e);case 2:a({type:"REMOVE",data:{id:e}});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},z=Object(l.b)(function(e,t){return{group:(a=e.groups,n=t.groupId,a.find(function(e){return e.id===n}))};var a,n},V)(Object(j.a)(function(e){var t=e.group;if(!t)return null;return r.a.createElement(I.a,{verticalAlign:"middle"},r.a.createElement(I.a.Column,null,r.a.createElement(C.a,null,"Reservation Details"),r.a.createElement(G.a,null,r.a.createElement(C.a,{as:"h2",textAlign:"center"},t.name),r.a.createElement(B.a.Item,null,r.a.createElement(B.a.Content,null,r.a.createElement(B.a.Description,null,t.room&&r.a.createElement(r.a.Fragment,null,t.room.name,r.a.createElement("br",null)),r.a.createElement(Q.a,{format:"HH:mm"},t.startTime),"-",r.a.createElement(Q.a,{format:"HH:mm"},t.endTime),r.a.createElement("br",null),t.user&&r.a.createElement(r.a.Fragment,null,t.user.username))))),r.a.createElement(C.a,null,"Ending reservation"),r.a.createElement(G.a,null,r.a.createElement("p",null,"To end this reservation now, click the 'end' button"),r.a.createElement("p",null,"Reservation will end immediately, and room is freed for other groups"),r.a.createElement(T.a,{onClick:function(){return a=t.id,e.removeGroup(a),void e.history.push("/");var a},negative:!0},"End")),r.a.createElement(A.a,{to:"/"},r.a.createElement(T.a,null,"Go Back"))))})),X=a(352),Y=Object(l.b)(function(e){return{selectedRoom:e.resources.selectedRoom,rooms:e.resources.rooms}},{getRoom:y})(Object(j.a)(function(e){var t=e.rooms.map(function(e){return{value:e.code,text:e.name}});return console.log(t),r.a.createElement(N.a,null,r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Room"),r.a.createElement(X.a,{placeholder:"Select room",onChange:function(t,a){return function(t){e.getRoom(t),e.history.push("/")}(a.value)},options:t})),r.a.createElement(A.a,{to:"/"},r.a.createElement(T.a,{default:!0},"Back")))})),Z=a(358),K=a(361),$={initGroups:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getAll();case 2:a=e.sent,t({type:"INIT_GROUPS",data:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getRoom:y,initRooms:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getRooms();case 2:a=e.sent,t({type:"INIT",data:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initChannels:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getChannels();case 2:a=e.sent,t({type:"INIT_CHANNELS",data:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},ee=Object(l.b)(function(e){return{selectedRoom:e.resources.selectedRoom,rooms:e.resources.rooms}},$)(function(e){Object(n.useEffect)(function(){e.initGroups(),e.initRooms(),e.initChannels(),t()},[]);var t=function(){var t=new URLSearchParams(window.location.search).get("room");t&&e.getRoom(t)};return r.a.createElement(K.a,null,r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(I.a,{container:!0,columns:1,relaxed:!0,stackable:!0},r.a.createElement(I.a.Column,null,r.a.createElement(w.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(Z.a,{positive:!0},e.selectedRoom?r.a.createElement(Z.a.Header,null,"Looks like you're in ",e.selectedRoom.name):r.a.createElement(A.a,{to:"/selectroom"},r.a.createElement(T.a,{primary:!0},"Start by choosing a room")))),r.a.createElement(J,null),r.a.createElement(G.a,null,r.a.createElement(T.a,null,r.a.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeyOuBflQfeg0uXfNdofHR74wqHktYReZyH3Mb23IyInBBMFQ/viewform?usp=sf_link",target:"_blank"},"Provide Feedback"))))}}),r.a.createElement(w.a,{path:"/addgroup",component:L}),r.a.createElement(w.a,{exact:!0,path:"/details/:id",render:function(e){var t=e.match;return r.a.createElement(z,{groupId:t.params.id})}}),r.a.createElement(w.a,{exact:!0,path:"/selectroom",render:function(){return r.a.createElement(Y,null)}})))))}),te=a(44),ae=a(181),ne=a(182),re=Object(te.combineReducers)({groups:k,resources:O,channels:R}),ce=Object(te.createStore)(re,Object(ne.composeWithDevTools)(Object(te.applyMiddleware)(ae.a)));o.a.render(r.a.createElement(l.a,{store:ce},r.a.createElement(ee,null)),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.437573dc.chunk.js.map